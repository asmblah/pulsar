{% extends '@pulsar/quantum/layouts/tabbed.html.twig' %}
{% import '@pulsar/pulsar/helpers/html.html.twig' as html %}
{% import '@pulsar/pulsar/helpers/form.html.twig' as form %}
{% import '@pulsar/pulsar/helpers/flash.html.twig' as flash %}

{% block title %}{{ parent() }}{% endblock %}

{% set heading = 'AB123C Appellant v Authority' %}

{% set tab_details %}
    {% include 'quantum/portal/case/tabs/details.html.twig' %}
{% endset %}

{% set tab_messages %}
    {% include 'quantum/portal/case/tabs/messages.html.twig' %}
{% endset %}

{% set tab_evidence %}
    {% include 'quantum/portal/case/tabs/evidence.html.twig' %}
{% endset %}

{% set tab_hearing %}
    {% include 'quantum/portal/case/tabs/hearing.html.twig' %}
{% endset %}

{% set tab_decision %}
    {% include 'quantum/portal/case/tabs/decision.html.twig' %}
{% endset %}

{% 
  set tabs = [
    {
      "id"        : "details",
      "label"     : html.icon('suitcase') ~ " Case",
      "src"       : tab_messages,
      "sub_tabs"  : [
        {
          "id"    : "buttons",
          "label" : html.icon('info-sign') ~ " Case Detail",
          "src"   : tab_buttons
        },
        {
          "id"    : "buttons",
          "label" : html.icon('user') ~ " Appellant Detail",
          "src"   : tab_buttons
        },
        {
          "id"    : "buttons",
          "label" : html.icon('envelope-alt') ~ " Messages " ~ html.label(label = 'new', class = 'label--primary'),
          "src"   : tab_buttons
        }
      ]
    },
    {
      "id"        : "messages",
      "label"     : html.icon('folder-close-alt') ~ " Case files",
      "src"       : tab_messages,
      "sub_tabs"  : [
        {
          "id"    : "buttons",
          "label" : html.icon('folder-open-alt') ~ " All files",
          "src"   : tab_buttons
        },
        {
          "id"    : "buttons",
          "label" : html.icon('flag') ~ " Flagged " ~ html.badge(4),
          "src"   : tab_buttons
        },
        {
          "id"    : "buttons",
          "label" : html.icon('comment-alt') ~ " Comments " ~ html.label(label = 'new', class = 'label--primary'),
          "src"   : tab_buttons
        }
      ]
    },
    {
      "id"        : "messages",
      "label"     : html.icon('group') ~ " Hearing",
      "src"       : tab_messages
    },
    {
      "id"        : "messages",
      "label"     : html.icon('legal') ~ " Decision",
      "src"       : tab_messages
    }
    
  ]
%}

{% block summary %}

<div class="summary">
  <div class="container">

  </div>
</div>
{% endblock %}

{% block tabs_list %}
  <div class="actionsbar actionsbar--left">
    <div class="btn__toolbar">
      <div class="btn__group">
        <a class="btn btn__back" href="#back" onclick="history.back(); return false;"><i class="icon-arrow-left"></i></a>
        {% if actions_menu is not empty %}
          {{ html.button_dropdown(label = 'Actions', menu_items = actions_menu) }}
        {% endif %}
      </div>
    </div>
  </div>

  {{ html.tabs(tabs) }}
{% endblock %}

{% block tabs_content %}
  {{ html.tabs_content(tabs) }}
{% endblock %}
