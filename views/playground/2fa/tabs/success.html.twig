{% import 'pulsar/v2/helpers/html.html.twig' as html %}
{% import 'pulsar/v2/helpers/form.html.twig' as form %}
{% import 'pulsar/helpers/flash.html.twig' as flash %}

<h2 class="heading">Two-step verification</h2>

<div class="tab__inner">

    {{
        form.create()
    }}

    {{
        form.checkbox({
            'label': 'Two-step verification is turned on',
            'class': 'masterswitch-control',
            'checked': true
        })
    }}

    <hr />

    <div class="progress-list">
        <a href="#" class="progress-list__item progress-list__item--complete">
            <span class="progress-list__label">
                <span class="badge badge--round badge--outline">1</span>
                Get the app
            </span>
            <span class="progress-list__arrow">&gt;</span>
        </a>

        <a href="#" class="progress-list__item progress-list__item--complete">
            <span class="progress-list__label">
                <span class="badge badge--round badge--outline">2</span>
                Set it up
            </span>
            <span class="progress-list__arrow">&gt;</span>
        </a>

        <a href="#" class="progress-list__item  progress-list__item--complete">
            <span class="progress-list__label">
                <span class="badge badge--round badge--outline">3</span>
                Test it
            </span>
            <span class="progress-list__arrow">&gt;</span>
        </a>

        <a href="#" class="progress-list__item progress-list__item--complete">
            <span class="progress-list__label">
                <span class="badge badge--round badge--outline">4</span>
                Finished!
            </span>
            <span class="progress-list__arrow">&gt;</span>
        </a>
    </div>

    <h2>{{ html.icon('thumbs-up') }} That worked!</h2>

    <p>Two-step verification is now enabled for you. Remember, you'll need to provide a verification code whenever you sign-in, so keep your phone handy.

    {{
        form.end({
            'class': 'form__actions--flush',
            'actions': [
                form.submit({
                    'label': 'Finish and Close',
                    'class': 'btn--primary'
                }),
                html.button({
                    'label': 'Turn Off Two-Step Verification',
                    'data-toggle': 'modal',
                    'href': '#confirm-disable',
                    'type': 'link',
                    'class': 'btn--danger pull-right'
                }),
                html.button({
                    'label': 'Setup Verification Again',
                    'type': 'link',
                    'class': 'btn--naked pull-right'
                })
            ]
        })
    }}

</div>

<div class="modal modal--danger" id="confirm-disable">
    <div class="modal__dialog">
        <div class="modal__content">
            <div class="modal__header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal__title">Turn off two-step verification?</h4>
            </div>
            <div class="modal__body">
                <p>Turning this off will make your account <strong>less secure</strong>, we strongly advise that you keep two-step verification turned on.</p>
                <p>If you turn it off, you will need to go through the set-up process again if you choose to turn it back on afterwards.</p>
            </div>
            <div class="modal__footer">
                <button type="button" class="btn" data-dismiss="modal">Keep It Turned On</button>
                <button type="button" class="btn btn--danger">I Understand, Turn it Off</button>
            </div>
        </div><!-- /.modal__content -->
    </div><!-- /.modal__dialog -->
</div><!-- /.modal -->
