{% macro button(label = 'button', class, type, id, href, attributes) %}
  {%- if type == 'link' -%}

    <a href="{{ href|default('#') }}" class="btn{% if class is not empty %} {{ class }}{% endif %}"{% if id is not empty %} id="{{ id }}"{% endif %} role="button" {% if attributes is not empty %} {{ attributes|raw }}{% endif %}>{{ label|raw }}</a>

  {%- elseif type == 'input' -%}

    <input type="button" class="btn{% if class is not empty %} {{ class }}{% endif %}"{% if id is not empty %} id="{{ id }}"{% endif %} value="{{ label|raw }}"{% if attributes is not empty %} {{ attributes|raw }}{% endif %}{% if 'is-disabled' in class %} disabled="disabled"{% endif %} />

  {%- elseif type == 'submit' -%}

    <input type="submit" class="btn{% if class is not empty %} {{ class }}{% endif %}"{% if id is not empty %} id="{{ id }}"{% endif %} value="{{ label|raw }}"{% if attributes is not empty %} {{ attributes|raw }}{% endif %}{% if 'is-disabled' in class %} disabled="disabled"{% endif %} />

  {%- else -%}

    <button class="btn{% if class is not empty %} {{ class }}{% endif %}"{% if id is not empty %} id="{{ id }}"{% endif %}{% if attributes is not empty %} {{ attributes|raw }}{% endif %}{% if 'is-disabled' in class %} disabled="disabled"{% endif %}>{{ label|raw }}</button>

  {%- endif -%}
{% endmacro %}


{%- macro button_group(buttons) -%}
  <div class="btn__group">
  {%- for button in buttons -%}
    {{ button }}
  {%- endfor -%}
  </div>
{%- endmacro -%}


{%- macro button_dropdown(label = 'label', class, id, menu_items, open = false) -%}
  {% import _self as html %}
  <div class="btn__group{% if open %} open{% endif %}">
    <button type="button" class="btn dropdown__toggle {{ class }}" {% if id is not empty %} id="{{ id }}"{% endif %} data-toggle="dropdown">
        {{ label|raw }}{% if menu_items is not empty %} <span class="caret">{% endif %}</span>
    </button>
    {% if menu_items is not empty %}
    <ul class="dropdown__menu">
      {% for menu_item in menu_items %}
        <li>{{ menu_item }}</li>
        {% endfor %}
    </ul>
    {% endif %}
  </div>
{%- endmacro -%}


{%- macro button_dropup(label = 'label', class, id, menu_items) -%}
  {% import _self as html %}
  <div class="btn__group dropup">
    <button type="button" class="btn dropdown__toggle {{ class }}" data-toggle="dropdown">
        {{ label|raw }}{% if menu_items is not empty %} <span class="caret">{% endif %}</span>
    </button>
    {% if menu_items is not empty %}
    <ul class="dropdown__menu">
      {% for menu_item in menu_items %}
        <li>{{ menu_item }}</li>
        {% endfor %}
    </ul>
    {% endif %}
  </div>
{%- endmacro -%}


{%- macro link(label, href, class, id, attributes) -%}
  <a href="{{ href|default('#') }}"{% if class is not empty %} class="{{ class }}"{% endif %}{% if id is not empty %} id="{{ id }}"{% endif %}{% if attributes is not empty %} {{ attributes|raw }}{% endif %}>{{ label|default('link')|raw }}</a>
{%- endmacro -%}


{%- macro tabs(tabs, active_tab = null) -%}
  {% import _self as html %}
  <ul class="tabs__list">

    {% if active_tab == null %}
      {% set class = ' class=is-active' %}
    {% else %}
      {% set class = '' %}
    {% endif %}

  {%- for tab in tabs -%}

    <li{{ class }}>
    {%- for id, label, sub_tabs in tab -%}

      {% if label is not iterable %}

      {{ html.link(
          label = label, 
          href = '#' ~ id, 
          attributes = 'data-toggle="tab"') }}

      {% else %}

        <ul class="tabs__list">
        
        {% for sub_tab in label %}
        {% for sub_id, sub_label in sub_tab %}

          {% if active_tab == null and loop.parent.loop.index == 1 %}
            {% set class = ' class=is-active' %}
          {% else %}
            {% set class = '' %}
          {% endif %}
          
          <li{{ class }}>
          
            {{ html.link(
              label = sub_label, 
              href = '#' ~ sub_id, 
              attributes = 'data-toggle="tab"') }}

          </li>

        {% endfor %}
        {% endfor %}

        </ul>
      {% endif %}


    {%- endfor -%}
    </li>
  {%- endfor -%}

  </ul>
{%- endmacro -%}


{%- macro tabs_content(tabs, active_tab = null) -%}
  <div class="tabs__content">
  {%- for tab in tabs -%}
  {%- for id, content in tab -%}

    {% if active_tab == null and loop.parent.loop.index == 1 %}
      {% set class = ' is-active' %}
    {% else %}
      {% set class = '' %}
    {% endif %}

    <div class="tab__pane{{ class }}" id="{{ id }}">
      {{ content|raw }}
    </div>
  {%- endfor -%}
  {%- endfor -%}
  </div>
{%- endmacro -%}


{%- macro list(list_items, class, active_item) -%}
  {% import _self as html %}
  <ul class="{{ class }}">
  {%- for list_item in list_items -%}
    
    {% if loop.index == active_item %}
      {% set class = ' class=is-active' %}
    {% else %}
      {% set class = '' %}
    {% endif %}

    <li{{ class }}>{{ list_item }}</li>
  {%- endfor -%}
  </ul>
{%- endmacro -%}

{%- macro progress(value, class, label, value_visible = false) -%}
  <div class="progress">
    <div class="progress-bar{% if class is not empty %} {{ class }}{% endif %}" role="progressbar" aria-valuenow="{{ value }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ value }}%;">
      {% if value_visible == false %}<span class="sr-only">{% endif %}{{ value }}%{% if value_visible == false %}</span>{% endif %}
      {% if label is not empty %}{{ label|raw }}{% endif %}
    </div>
  </div>
{%- endmacro -%}


{%- macro icon(icon_name, class) -%}
  <i class="icon-{{ icon_name }} {{ class }}"></i>
{%- endmacro -%}


{%- macro label(label = 'label', class) -%}
  <span class="label {{ class }}">{{ label }}</span>
{%- endmacro -%}


{%- macro badge(label = 'label', class) -%}
  <span class="badge {{ class }}">{{ label }}</span>
{%- endmacro -%}

{%- macro divider() -%}
  <span class="divider"></span>
{%- endmacro -%}
