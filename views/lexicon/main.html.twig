{% extends '@pulsar/pulsar/layouts/tabbed.html.twig' %}

{% import '@pulsar/pulsar/v2/helpers/html.html.twig' as html %}
{% import '@pulsar/pulsar/v2/helpers/form.html.twig' as form %}
{% import '@pulsar/pulsar/helpers/flash.html.twig' as flash %}
{% import '@pulsar/pulsar/helpers/tabs.html.twig' as tabs %}

{% set pageModule = 'lexicon/uploaderDemo' %}

{% block title %}{{ parent() }}{% endblock %}

{% set heading = 'Pulsar Lexicon' %}

{%
    set actions_menu = [
        html.link({
          'label': html.icon('save') ~ ' Save',
          'href': '#save'
        }),
        html.link({
          'label': html.icon('print') ~ ' Print',
          'href': '#print'
        }),
        html.divider(),
        html.link({
          'label': html.icon('trash') ~ ' Delete',
          'href': '#delete',
          'class': 'link--danger disabled',
          'attributes': 'data-on-datagrid-item-selected=enable'
        })
    ]
%}

{%
    set actions_menu = [
        html.link({
          'label': html.icon('plus') ~ ' Create new filter',
          'href': '#save'
        }),
        html.divider(),
        html.link({
          'label': html.icon('pencil') ~ ' Edit this filter',
          'href': '#print'
        }),
        html.link({
          'label': html.icon('remove-sign') ~ ' Clear this filter',
          'href': '#print'
        }),
        html.divider(),
        html.link({
          'label': html.icon('trash') ~ ' Delete this filter',
          'href': '#delete',
          'class': 'link--danger',
          'attributes': 'data-on-datagrid-item-selected=enable'
        })
    ]
%}

{% set tab_buttons %}{% include         'lexicon/tabs/buttons_labels.html.twig' %}{% endset %}
{% set tab_colours %}{% include         'lexicon/tabs/colours.html.twig' %}{% endset %}
{% set tab_decks %}{% include           'lexicon/tabs/decks.html.twig' %}{% endset %}
{% set tab_flash %}{% include           'lexicon/tabs/flash.html.twig' %}{% endset %}
{% set tab_forms %}{% include           'lexicon/tabs/forms.html.twig' %}{% endset %}
{% set tab_loading %}{% include         'lexicon/tabs/loading.html.twig' %}{% endset %}
{% set tab_modals %}{% include          'lexicon/tabs/modals.html.twig' %}{% endset %}
{% set tab_tooltips %}{% include        'lexicon/tabs/tooltips.html.twig' %}{% endset %}
{% set tab_data_grid %}{% include       'lexicon/tabs/datagrid.html.twig' %}{% endset %}
{% set tab_metadata %}{% include        'lexicon/tabs/metadata.html.twig' %}{% endset %}
{% set tab_panels %}{% include          'lexicon/tabs/panels.html.twig' %}{% endset %}
{% set tab_popovers %}{% include        'lexicon/tabs/popovers.html.twig' %}{% endset %}
{% set tab_progress_bars %}{% include   'lexicon/tabs/progress_bars.html.twig' %}{% endset %}
{% set tab_rich_list %}{% include       'lexicon/tabs/rich_list.html.twig' %}{% endset %}
{% set tab_simple_uploader %}{% include 'lexicon/tabs/uploader_simple.html.twig' %}{% endset %}
{% set tab_detail_uploader %}{% include 'lexicon/tabs/uploader_detailed.html.twig' %}{% endset %}
{% set tab_typography %}{% include      'lexicon/tabs/typography.html.twig' %}{% endset %}
{% set tab_interactions %}{% include    'lexicon/tabs/interactions.html.twig' %}{% endset %}
{% set tab_form_summary %}{% include    'lexicon/tabs/analytics.html.twig' %}{% endset %}
{% set tab_filters %}{% include         'lexicon/tabs/filters.html.twig' %}{% endset %}
{% set tab_empty_table %}{% include     'lexicon/tabs/empty_table.html.twig' %}{% endset %}

{% set pattern_masterswitch %}{% include     'lexicon/patterns/masterswitch.html.twig' %}{% endset %}

{%
  set tabs_content = [
    {
      "id"        : "components",
      "label"     : html.icon("th") ~ "Components",
      "sub_tabs"  : [
        {
          "id"    : "colours",
          "label" : html.icon("tint") ~ " Colours",
          "src"   : tab_colours
        },
        {
          "id"    : "buttons",
          "label" : html.icon("plus-sign-alt") ~ " Buttons",
          "src"   : tab_buttons
        },
        {
          "id"    : "flash",
          "label" : html.icon("warning-sign") ~ " Flash messages",
          "src"   : tab_flash
        },
        {
          "id"    : "forms",
          "label" : html.icon("check-sign") ~ " Forms",
          "src"   : tab_forms
        },
        {
          "id"    : "loading",
          "label" : html.icon("spinner") ~ " Loading",
          "src"   : tab_loading
        },
        {
          "id"    : "metadata",
          "label" : html.icon("list-alt") ~ " Metadata",
          "src"   : tab_metadata
        },
        {
          "id"    : "panels",
          "label" : html.icon("info-sign") ~ " Panels",
          "src"   : tab_panels
        },
        {
          "id"    : "progress",
          "label" : html.icon("tasks") ~ " Progress bars",
          "src"   : tab_progress_bars
        },
        {
          "id"    : "table",
          "label" : html.icon("table") ~ " Table",
          "src"   : tab_data_grid
        },
        {
          "id"    : "tooltips",
          "label" : html.icon("quote-left") ~ " Tooltips",
          "src"   : tab_tooltips
        },
        {
          "id"    : "type",
          "label" : html.icon("font") ~ " Typography",
          "src"   : tab_typography
        }
      ]
    },
    {
      "id"        : "Modules",
      "label"     : html.icon("th-large") ~ " Modules",
      "sub_tabs"  : [
        {
          "id"    : "decks",
          "label" : html.icon("columns") ~ " Decks",
          "src"   : tab_decks
        },
        {
          "id"    : "modals",
          "label" : html.icon("list-alt") ~ " Modals",
          "src"   : tab_modals
        },
        {
          "id"    : "popovers",
          "label" : html.icon("comment") ~ " Popovers",
          "src"   : tab_popovers
        },
        {
          "id"    : "rich_list",
          "label" : html.icon("columns") ~ " Rich list",
          "src"   : tab_rich_list
        },
      ]
    },
    {
      "id"        : "Patterns",
      "label"     : html.icon("puzzle-piece") ~ " Patterns",
      "sub_tabs"  : [
        {
          "id"    : "masterswitch",
          "label" : html.icon("check") ~ " Masterswitch",
          "src"   : pattern_masterswitch
        },
        {
          "id"    : "simple_uploader",
          "label" : html.icon("paperclip") ~ " Simple Uploader",
          "src"   : tab_simple_uploader
        },
        {
          "id"    : "detail_uploader",
          "label" : html.icon("paperclip") ~ " Detailed Uploader",
          "src"   : tab_detail_uploader
        },
      ]
    },
    {
      "id"        : "interactions",
      "label"     : html.icon("forward") ~ " Interactions",
      "src"       : tab_interactions
    },
    {
      "id"        : "examples",
      "label"     : html.icon("desktop") ~ " UI Examples",
      "sub_tabs"  : [
        {
          "id"    : "summary",
          "label" : html.icon("bar-chart") ~ " Table with summary",
          "src"   : tab_form_summary,
          "attr"  : "data-summary=#analytics"
        },
        {
          "id"    : "filters",
          "label" : html.icon("filter") ~ " Table with filters",
          "src"   : tab_filters
        },
        {
          "id"    : "empty_table",
          "label" : html.icon("table") ~ " Table with no results",
          "src"   : tab_empty_table
        }
      ]
    }
  ]
%}

{%
  set nav_data = {
    "1": {
        "label": "Components",
        "class": "",
        "href": '#first-item',
        "icon": "th",
        "items": {
            "1.1": {
                "1.1.1": {
                    "label": "Colours",
                    "href": "#colours",
                    "data-toggle": "tab"
                },
                "1.1.2": {
                    "label": "Buttons",
                    "href": "#buttons",
                    "data-toggle": "tab"
                },
                "1.1.3": {
                    "label": "Flash messages",
                    "href": "#flash",
                    "data-toggle": "tab"
                },
                "1.1.4": {
                    "label": "Forms",
                    "href": "#forms",
                    "data-toggle": "tab"
                },
                "1.1.5": {
                    "label": "Loading",
                    "href": "#loading",
                    "data-toggle": "tab"
                },
                "1.1.6": {
                    "label": "Metadata",
                    "href": "#metadata",
                    "data-toggle": "tab"
                },
                "1.1.7": {
                    "label": "Panels",
                    "href": "#panels",
                    "data-toggle": "tab"
                },
                "1.1.8": {
                    "label": "Progress bars",
                    "href": "#progress",
                    "data-toggle": "tab"
                },
                "1.1.9": {
                    "label": "Table",
                    "href": "#table",
                    "data-toggle": "tab"
                },
                "1.1.10": {
                    "label": "Tooltips",
                    "href": "#tooltips",
                    "data-toggle": "tab"
                },
                "1.1.11": {
                    "label": "Typography",
                    "href": "#typographyxÂ§",
                    "data-toggle": "tab"
                }
            }
        }
    },
    "2": {
        "label": "Modules",
        "class": "",
        "href": "#modules",
        "icon": "th-large",
        "items": {
            "2.1": {
                "2.1.1": {
                    "label": "Decks",
                    "href": "#decks",
                    "data-toggle": "tab"
                },
                "2.1.2": {
                    "label": "Modals",
                    "href": "#modals",
                    "data-toggle": "tab"
                },
                "2.1.3": {
                    "label": "Popovers",
                    "href": "#popovers",
                    "data-toggle": "tab"
                },
                "2.1.4": {
                    "label": "Rich list",
                    "href": "#rich_list",
                    "data-toggle": "tab"
                }
            }
        }
    },
    "3": {
        "label": "Patterns",
        "class": "",
        "href": "#patterns",
        "icon": "puzzle-piece",
        "items": {
            "4.1": {
                "3.1.1": {
                    "label": "Masterswitch",
                    "href": "#masterswitch",
                    "data-toggle": "tab"
                },
                "3.1.2": {
                    "label": "Simple uploader",
                    "href": "#simple_uploader",
                    "data-toggle": "tab"
                },
                "3.1.3": {
                    "label": "Detailed uploader",
                    "href": "#detail_uploader",
                    "data-toggle": "tab"
                }
            }
        }
    },
    "4": {
        "label": "UI Examples",
        "class": "",
        "href": "#ui-examples",
        "icon": "desktop",
        "items": {
            "4.1": {
                "4.1.1": {
                    "label": "Table with summary",
                    "href": "#summary",
                    "data-toggle": "tab"
                },
                "4.1.2": {
                    "label": "Table with filters",
                    "href": "#filters",
                    "data-toggle": "tab"
                },
                "4.1.3": {
                    "label": "Table with no results",
                    "href": "#empty_table",
                    "data-toggle": "tab"
                }
            }
        }
    }
}

%}

{% block summary %}
  <div class="summary hide" data-tab="#analytics">
    <div id="container"></div>
  </div>
{% endblock %}

{% block tabs_list %}
  <div class="actionsbar actionsbar--left">
    <div class="btn__toolbar">
      <div class="btn__group">
        <a class="btn btn__back" href="#back" onclick="history.back(); return false;"><i class="icon-arrow-left"></i></a>
        {% if actions_menu is not empty %}
          {{
            html.button_dropdown({
              'label': 'Actions ' ~ html.badge({ 'class': 'hide' }),
              'class': 'actions-menu',
              'items': actions_menu
            })
          }}
        {% endif %}
      </div>
    </div>
  </div>


{% endblock %}

{% block tabs_content %}
  {{ tabs.tabs_content(tabs_content) }}
{% endblock %}

{% block javascript %}
{% endblock %}
